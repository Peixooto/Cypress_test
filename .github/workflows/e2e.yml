name: Cypress E2E

on:
 push: 
  branches: [main]

jobs:
 e2e-tests:
  runs-on: ubuntu-latest

  steps: 
   - name: Node verification
     uses: actions/setup-node@v3
     with:
      node-version: '18'

   - name: Debug workspace
     run: |
        echo "Current path:"
        pwd
        echo "Files here:"
        ls -la

   - name: Dependencies check
     run: |
      npm init -y
      npm install
      npm install cypress --save-dev
    #  working-directory: ./

   - name: Running tests
     run: npx cypress run
    #  working-directory: ./


